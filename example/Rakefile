# Rakefile for cabar/example components.

task :default => :dependency_graph

task :dependency_graph do
  [ nil, :show_unrequired_components ].each do | opts | 
    base_file = "doc/dependency_graph.--#{opts}"
    dot_file = "#{base_file}.dot"
    # mkdir File.dirname(dot_file)
    sh "bin/cbr_env cbr comp dot --show-dependencies --show-facet-names --#{opts} > #{dot_file}"
    [ :dot, :neato, :twopi, :circo, :fdp ].each do | g |
      sh "#{g} -Tsvg -o #{base_file}.#{g}.svg #{dot_file}"
    end
  end
end

